import React, { Component } from 'react';
import CanvasJSReact from './assets/canvasjs.react';
import axios from 'axios';
import { variables } from './Variables';
import HeatMap from "react-heatmap-grid";





class HeatmapView extends Component {
	constructor(props){
        super(props);
        this.state={
            coordinates:[[0,0]],
			res:[],
            res_dp:[],
            
        }
    }
    
    refreshList(){
        var x;
        axios.get(variables.API_URL+'visualizeheatmap')
        .then(response => {
            
            this.setState({
                coordinates: response.data.res
                
            });
            console.log(response.data);
            x = response.data.res;
        });
        // console.log(this.state.coordinates)
        return (x);
    }
    // componentDidMount(){
    //     this.refreshList();
		
    // }

	
	
	
	render() {
        const xLabels = new Array(30).fill(0).map((_, i) => `${i}`);
        const yLabels = new Array(30).fill(0).map((_, i) => `${i}`);
        var head_data=[0];
        if(head_data!==undefined)
            head_data = this.refreshList();
        // head_data=[[1.0, 0.0017962185577417437, 0.0014150057837310729, 0.0014150057837310729, 0.0014150057837310729, 0.009750192794257857, 0.006175045681856938, 0.008263146980615442, 0.009613506977725712, 0.014189744789212625, 0.0025566448109044953, 0.012926680999706975, 0.012929443932997586, 0.003855644598392802, 0.012818862656831308, 0.002632616387897383, 0.004892821581498721, 0.006062541474827014, 0.005664754575874736, 0.007018932738502568, 0.005748170504612858, 0.00830072681637151, 0.0054185885616975975, 0.003930974909988789, 0.005825525021676458, 0.014050802372856596, 0.011268129043059965, 0.012823218448789593, 0.0042577471237551165, 0.011003570149855651],[0.0017962185577417437, 1.0, 0.009231673436098138, 0.009231673436098138, 0.009231673436098138, 0.0010258512315787151, 0.01025427416888239, 0.008687070372331749, 2.116974372867726e-05, 0.003959927051004061, 0.0027738348877058977, 0.007316376496132953, 0.00021636272288831212, 0.006746159340147022, 0.001603722807717762, 0.004434626181555732, 0.008192768243885989, 0.007974928218944535, 0.005293168780146196, 0.002766885509450781, 6.560242509542323e-05, 0.002178405450380833, 0.0012845348213463307, 0.0023654351970769844, 0.0029687218380645944, 0.011414850553297346, 0.009163348874318048, 0.009466591214899492, 0.004058275111898101, 0.12875009965604325],[0.0014150057837310729, 0.009231673436098138, 1.0, 1.0, 1.0, 0.010196564211110613, 0.004067094390694757, 0.0020502859518840245, 0.005828935801848784, 0.01711413745080781, 0.0006732307365211941, 0.014925421661435057, 0.0015851158837516676, 0.002418003441794085, 0.0005228528867560631, 0.006024403691283932, 0.00775297681872576, 0.009700376971028744, 0.010772034155956551, 0.013241567109488874, 0.011960432666405117, 0.00012100654712621177, 0.008492684093328992, 0.006336115277911694, 0.0019227983860327187, 0.009948065202902461, 0.0055862117713506056, 0.01799539899881969, 0.011056467574671032, 0.12244956918627894],[0.0014150057837310729, 0.009231673436098138, 1.0, 1.0, 1.0, 0.010196564211110613, 0.004067094390694757, 0.0020502859518840245, 0.005828935801848784, 0.01711413745080781, 0.0006732307365211941, 0.014925421661435057, 0.0015851158837516676, 0.002418003441794085, 0.0005228528867560631, 0.006024403691283932, 0.00775297681872576, 0.009700376971028744, 0.010772034155956551, 0.013241567109488874, 0.011960432666405117, 0.00012100654712621177, 0.008492684093328992, 0.006336115277911694, 0.0019227983860327187, 0.009948065202902461, 0.0055862117713506056, 0.01799539899881969, 0.011056467574671032, 0.12244956918627894],[0.0014150057837310729, 0.009231673436098138, 1.0, 1.0, 1.0, 0.010196564211110613, 0.004067094390694757, 0.0020502859518840245, 0.005828935801848784, 0.01711413745080781, 0.0006732307365211941, 0.014925421661435057, 0.0015851158837516676, 0.002418003441794085, 0.0005228528867560631, 0.006024403691283932, 0.00775297681872576, 0.009700376971028744, 0.010772034155956551, 0.013241567109488874, 0.011960432666405117, 0.00012100654712621177, 0.008492684093328992, 0.006336115277911694, 0.0019227983860327187, 0.009948065202902461, 0.0055862117713506056, 0.01799539899881969, 0.011056467574671032, 0.12244956918627894],[0.009750192794257857, 0.0010258512315787151, 0.010196564211110613, 0.010196564211110613, 0.010196564211110613, 1.0, 0.004434701456506715, 0.003639265941398298, 0.00424307039328814, 0.0006930930130364911, 0.007719723625482013, 0.00351253531993832, 0.005898443711160856, 0.009633734647783923, 0.004362752794933972, 0.013293189188782818, 0.0019277250488957131, 8.168273398502044e-05, 0.009749927276118897, 0.007461607808194789, 0.012354962017753377, 0.0024472523180039166, 0.002644886543520239, 0.004254109158022069, 0.000680738790982044, 0.004486759997319314, 0.005024984120883407, 0.004945744016396973, 0.0022092065079473825, 0.0005018497463219998],[0.006175045681856938, 0.01025427416888239, 0.004067094390694757, 0.004067094390694757, 0.004067094390694757, 0.004434701456506715, 1.0, 0.0013052291912678301, 0.016828784609376726, 0.0013284324902866431, 0.004912961571255211, 0.004111625685140456, 0.0048389223569449144, 0.012082104997070901, 0.008524486648493604, 0.005976136948441024, 0.004020362152278526, 0.004739232050177152, 0.002417152867693125, 0.009950192879247073, 0.012493799294441254, 0.015643050564405993, 0.004811174635219483, 0.007782207102875538, 0.008433163781718064, 0.006488829313924128, 0.006374453947475194, 0.0064405837012833965, 0.002840081740464198, 0.006484951282945851],[0.008263146980615442, 0.008687070372331749, 0.0020502859518840245, 0.0020502859518840245, 0.0020502859518840245, 0.003639265941398298, 0.0013052291912678301, 1.0, 0.013337595945727532, 0.0010644799020117827, 0.007859941012013243, 0.010042266045512786, 0.0015329050197209588, 0.008212350860608383, 0.00041231532720764803, 0.009828691613256477, 0.004615423123037387, 0.005431139448058741, 0.007660307741590486, 0.0005112731077408565, 0.004219382154415669, 0.0145957602983783, 0.00412076192862472, 0.0007724784261108827, 0.0002668600734056546, 0.01062981733349767, 0.0017683651330571433, 0.00871807622925051, 0.009927253481874643, 0.008970614607183146],[0.009613506977725712, 2.116974372867726e-05, 0.005828935801848784, 0.005828935801848784, 0.005828935801848784, 0.00424307039328814, 0.016828784609376726, 0.013337595945727532, 1.0, 0.012965502728690508, 0.0056016830049394825, 0.002515892481295019, 9.81629537199169e-05, 0.012984541147281224, 0.013046562523860236, 9.823516036272371e-05, 0.00043506528728767227, 0.001853038432624132, 0.020933750621315327, 0.011444054978354637, 0.014503651829391413, 0.007232695334946198, 0.0006496793475469574, 0.012816397734244053, 0.0008681631016875856, 0.005500095092227402, 0.002254921470985093, 0.0034694021495978353, 0.01032250898549752, 0.0061106514306521025],[0.014189744789212625, 0.003959927051004061, 0.01711413745080781, 0.01711413745080781, 0.01711413745080781, 0.0006930930130364911, 0.0013284324902866431, 0.0010644799020117827, 0.012965502728690508, 1.0, 0.008243108965369922, 0.0018312883909767038, 0.0020095330693267123, 0.006934905697242836, 0.016509777544310527, 0.003691474202925436, 0.002830878303997166, 0.0011608895631910617, 0.011093156516250119, 0.004150790764654873, 0.0006137450370802719, 4.84711108705446e-05, 0.010507038434127302, 0.00371812524095498, 0.004204733954223053, 0.012068427211449786, 0.018865168791875147, 0.012235000172144342, 0.006369785746106288, 0.009626499568114476],[0.0025566448109044953, 0.0027738348877058977, 0.0006732307365211941, 0.0006732307365211941, 0.0006732307365211941, 0.007719723625482013, 0.004912961571255211, 0.007859941012013243, 0.0056016830049394825, 0.008243108965369922, 1.0, 0.01197913403211013, 0.0058640972157293645, 0.012404730185607024, 0.019875616764232287, 0.004552954374562472, 0.0036113935973407525, 0.005128446630947693, 0.010761497867053296, 0.001843993563123908, 0.0026523555009437343, 0.009810301693087591, 0.007899833248453085, 0.005114593388085489, 0.011293194382514526, 0.003811793499854036, 0.0039166942516089195, 0.007814097531427644, 0.0034665949042833257, 0.003775929231098243],[0.012926680999706975, 0.007316376496132953, 0.014925421661435057, 0.014925421661435057, 0.014925421661435057, 0.00351253531993832, 0.004111625685140456, 0.010042266045512786, 0.002515892481295019, 0.0018312883909767038, 0.01197913403211013, 1.0, 0.0033912168629553993, 0.0014722179667848256, 0.0021297018881068037, 0.002594130720284962, 0.010060221560290482, 0.007624497517652848, 0.012389172800494189, 0.0024216196787472544, 0.006321752090160784, 0.005615694514129246, 0.005163149990334832, 0.0004816804000580979, 0.001003714617930138, 0.020604335286028574, 0.0009011002326851875, 0.0027766915933597177, 0.0021821764609881588, 0.01099993710605112],[0.012929443932997586, 0.00021636272288831212, 0.0015851158837516676, 0.0015851158837516676, 0.0015851158837516676, 0.005898443711160856, 0.0048389223569449144, 0.0015329050197209588, 9.81629537199169e-05, 0.0020095330693267123, 0.0058640972157293645, 0.0033912168629553993, 1.0, 0.003736485255995683, 0.004827343395737062, 0.0004318837276520611, 0.003773396151031813, 0.0017025221630734527, 0.009674054081323553, 0.003224677656339991, 0.005962672863189788, 0.007191956118002294, 0.009074065660987327, 0.004766488275355167, 0.0009023338368313954, 0.008516591330970092, 0.01780724488843574, 0.008703032148359853, 0.0034415103136785667, 0.009025355149920979],[0.003855644598392802, 0.006746159340147022, 0.002418003441794085, 0.002418003441794085, 0.002418003441794085, 0.009633734647783923, 0.012082104997070901, 0.008212350860608383, 0.012984541147281224, 0.006934905697242836, 0.012404730185607024, 0.0014722179667848256, 0.003736485255995683, 1.0, 0.011829713172290183, 0.002275338402358262, 0.01878509229148767, 0.001805252941072724, 0.008218205138303366, 0.004503580011826134, 0.0016305642350507416, 0.003495482186786953, 0.0034822314853504917, 0.004163502890720993, 0.005842474280098397, 0.01269206128262378, 0.0012475129985283714, 0.010115894590903594, 0.00400244498593313, 0.009123925565056307],[0.012818862656831308, 0.001603722807717762, 0.0005228528867560631, 0.0005228528867560631, 0.0005228528867560631, 0.004362752794933972, 0.008524486648493604, 0.00041231532720764803, 0.013046562523860236, 0.016509777544310527, 0.019875616764232287, 0.0021297018881068037, 0.004827343395737062, 0.011829713172290183, 1.0, 0.016362692020577677, 0.0002540012395190469, 0.00839091766804934, 0.003925496406087315, 0.007155009499119487, 0.009320319560220938, 0.01657268957286541, 0.002058502431408137, 0.0027466375785628696, 0.01109536210023397, 0.0039694075928876915, 0.007574992545480652, 0.010461373025821607, 1.355073142825942e-05, 0.0009984704269171167],[0.002632616387897383, 0.004434626181555732, 0.006024403691283932, 0.006024403691283932, 0.006024403691283932, 0.013293189188782818, 0.005976136948441024, 0.009828691613256477, 9.823516036272371e-05, 0.003691474202925436, 0.004552954374562472, 0.002594130720284962, 0.0004318837276520611, 0.002275338402358262, 0.016362692020577677, 1.0,
        //      0.001886768650334426, 0.00777536185684334, 0.0062671034314259215, 0.004595692729620263, 0.005866935708062465, 0.0011132715628199188, 0.020684462159074463, 0.0022045199232971044, 0.006414280432788909, 0.014084463787009862, 0.010073924980697188, 0.0008893044204811932, 0.0005493419141348338, 0.0018615313363423763],[0.004892821581498721, 0.008192768243885989, 0.00775297681872576, 0.00775297681872576, 0.00775297681872576, 0.0019277250488957131, 0.004020362152278526, 0.004615423123037387, 0.00043506528728767227, 0.002830878303997166, 0.0036113935973407525, 0.010060221560290482, 0.003773396151031813, 0.01878509229148767, 0.0002540012395190469, 0.001886768650334426, 1.0, 0.0009576834440272764, 0.004140040820539939, 0.0049955709058126015, 0.014338996585487143, 0.008479079455782074, 0.004496048815945824, 0.001970151956987369, 0.009420868136755786, 0.002973006250039545, 0.0021836834554121265, 0.00833844536969763, 0.003862749771990132, 0.003648693053794022],[0.006062541474827014, 0.007974928218944535, 0.009700376971028744, 0.009700376971028744, 0.009700376971028744, 8.168273398502044e-05, 0.004739232050177152, 0.005431139448058741, 0.001853038432624132, 0.0011608895631910617, 0.005128446630947693, 0.007624497517652848, 0.0017025221630734527, 0.001805252941072724, 0.00839091766804934, 0.00777536185684334, 0.0009576834440272764, 1.0, 0.0036850139232054335, 0.0011891630167345877, 0.0033189893701971378, 0.0037687012491805106, 0.0014799935093772205, 0.004485844156959344, 0.012262385731560714, 0.0015958995775841758, 0.0020080562743855336, 0.008088035881545079, 0.007913183957359151, 0.005508800561023847],[0.005664754575874736, 0.005293168780146196, 0.010772034155956551, 0.010772034155956551, 0.010772034155956551, 0.009749927276118897, 0.002417152867693125, 0.007660307741590486, 0.020933750621315327, 0.011093156516250119, 0.010761497867053296, 0.012389172800494189, 0.009674054081323553, 0.008218205138303366, 0.003925496406087315, 0.0062671034314259215, 0.004140040820539939, 0.0036850139232054335, 1.0, 0.003234661330466772, 0.0002598133112805628, 0.0005372112199214639, 0.03243509661360424, 0.0005874541973644692, 0.005296865297598773, 0.002679925854171893, 0.0055813952170958, 0.013004506647656728, 0.003423988269783975, 0.00725207381773078],[0.007018932738502568, 0.002766885509450781, 0.013241567109488874, 0.013241567109488874, 0.013241567109488874, 0.007461607808194789, 0.009950192879247073, 0.0005112731077408565, 0.011444054978354637, 0.004150790764654873, 0.001843993563123908, 0.0024216196787472544, 0.003224677656339991, 0.004503580011826134, 0.007155009499119487, 0.004595692729620263, 0.0049955709058126015, 0.0011891630167345877, 0.003234661330466772, 1.0, 0.0002657774472230329, 0.0037900826018853486, 0.004304961831685199, 0.008111487422215577, 0.006442865224773025, 0.0020081948015784044, 0.004315716051749696, 0.0019091730960342692, 0.010501728327222095, 0.008335720809484732],[0.005748170504612858, 6.560242509542323e-05, 0.011960432666405117, 0.011960432666405117, 0.011960432666405117, 0.012354962017753377, 0.012493799294441254, 0.004219382154415669, 0.014503651829391413, 0.0006137450370802719, 0.0026523555009437343, 0.006321752090160784, 0.005962672863189788, 0.0016305642350507416, 0.009320319560220938, 0.005866935708062465, 0.014338996585487143, 0.0033189893701971378, 0.0002598133112805628, 0.0002657774472230329, 1.0, 0.00987035042076572, 0.011085316341107494, 0.01715217867890643, 0.005409732913894564, 0.0016038125944783696, 0.0013689102004786871, 0.005190383961808863, 0.001793137935755085, 0.00881028550681585],[0.00830072681637151, 0.002178405450380833, 0.00012100654712621177, 0.00012100654712621177, 0.00012100654712621177, 0.0024472523180039166, 0.015643050564405993, 0.0145957602983783, 0.007232695334946198, 4.84711108705446e-05, 0.009810301693087591, 0.005615694514129246, 0.007191956118002294, 0.003495482186786953, 0.01657268957286541, 0.0011132715628199188, 0.008479079455782074, 0.0037687012491805106, 0.0005372112199214639, 0.0037900826018853486, 0.00987035042076572, 1.0, 0.004349176645745082, 0.003809781824000578, 0.006843649737743532, 0.0090241972234115, 0.0006332296030267682, 0.00320187302345931, 0.00472413663101504, 0.007285535188880972],[0.0054185885616975975, 0.0012845348213463307, 0.008492684093328992, 0.008492684093328992, 0.008492684093328992, 0.002644886543520239, 0.004811174635219483, 0.00412076192862472, 0.0006496793475469574, 0.010507038434127302, 0.007899833248453085, 0.005163149990334832, 0.009074065660987327, 0.0034822314853504917, 0.002058502431408137, 0.020684462159074463, 0.004496048815945824, 0.0014799935093772205, 0.03243509661360424, 0.004304961831685199, 0.011085316341107494, 0.004349176645745082, 1.0, 0.011164732282650242, 0.01171673144775607, 0.007205436076096627, 0.028467004234603105, 0.015155877607494978, 0.01017415978481801, 0.015328794258181323],[0.003930974909988789, 0.0023654351970769844, 0.006336115277911694, 0.006336115277911694, 0.006336115277911694, 0.004254109158022069, 0.007782207102875538, 0.0007724784261108827, 0.012816397734244053, 0.00371812524095498, 0.005114593388085489, 0.0004816804000580979, 0.004766488275355167, 0.004163502890720993, 0.0027466375785628696, 0.0022045199232971044, 0.001970151956987369, 0.004485844156959344, 0.0005874541973644692, 0.008111487422215577, 0.01715217867890643, 0.003809781824000578, 0.011164732282650242, 1.0, 0.014284553055719879, 0.009419049304096974, 0.006500667907035057, 0.011347673918108644, 0.01210207297207838, 0.14296395495445463],[0.005825525021676458, 0.0029687218380645944, 0.0019227983860327187, 0.0019227983860327187, 0.0019227983860327187, 0.000680738790982044, 0.008433163781718064, 0.0002668600734056546, 0.0008681631016875856, 0.004204733954223053, 0.011293194382514526, 0.001003714617930138, 0.0009023338368313954, 0.005842474280098397, 0.01109536210023397, 0.006414280432788909, 0.009420868136755786, 0.012262385731560714, 0.005296865297598773, 0.006442865224773025, 0.005409732913894564, 0.006843649737743532, 0.01171673144775607, 0.014284553055719879, 1.0, 0.006891420050287537, 0.011451253344200258, 0.002782032328314492, 0.021297665898448146, 0.18527791544742275],[0.014050802372856596, 0.011414850553297346, 0.009948065202902461, 0.009948065202902461, 0.009948065202902461, 0.004486759997319314, 0.006488829313924128, 0.01062981733349767, 0.005500095092227402, 0.012068427211449786, 0.003811793499854036, 0.020604335286028574, 0.008516591330970092, 0.01269206128262378, 0.0039694075928876915, 0.014084463787009862, 0.002973006250039545, 0.0015958995775841758, 0.002679925854171893, 0.0020081948015784044, 0.0016038125944783696, 0.0090241972234115, 0.007205436076096627, 0.009419049304096974, 0.006891420050287537, 1.0, 0.00421982768627134, 0.020974862090067565, 0.0018081047496455432, 0.22856548906406526],[0.011268129043059965, 0.009163348874318048, 0.0055862117713506056, 0.0055862117713506056, 0.0055862117713506056, 0.005024984120883407, 0.006374453947475194, 0.0017683651330571433, 0.002254921470985093, 0.018865168791875147, 0.0039166942516089195, 0.0009011002326851875, 0.01780724488843574, 0.0012475129985283714, 0.007574992545480652, 0.010073924980697188, 0.0021836834554121265, 0.0020080562743855336, 0.0055813952170958, 0.004315716051749696, 0.0013689102004786871, 0.0006332296030267682, 0.028467004234603105, 0.006500667907035057, 0.011451253344200258, 0.00421982768627134, 1.0, 0.041340934333417886, 0.008354458956913169, 0.25559219365038766],[0.012823218448789593, 0.009466591214899492, 0.01799539899881969, 0.01799539899881969, 0.01799539899881969, 0.004945744016396973, 0.0064405837012833965, 0.00871807622925051, 0.0034694021495978353, 0.012235000172144342, 0.007814097531427644, 0.0027766915933597177, 0.008703032148359853, 0.010115894590903594, 0.010461373025821607, 0.0008893044204811932, 0.00833844536969763, 0.008088035881545079, 0.013004506647656728, 0.0019091730960342692, 0.005190383961808863, 0.00320187302345931, 0.015155877607494978, 0.011347673918108644, 0.002782032328314492, 0.020974862090067565, 0.041340934333417886, 1.0, 0.005932844043832027, 0.31590684559261184],[0.0042577471237551165, 0.004058275111898101, 0.011056467574671032, 0.011056467574671032, 0.011056467574671032, 0.0022092065079473825, 0.002840081740464198, 0.009927253481874643, 0.01032250898549752, 0.006369785746106288, 0.0034665949042833257, 0.0021821764609881588, 0.0034415103136785667, 0.00400244498593313, 1.355073142825942e-05, 0.0005493419141348338, 0.003862749771990132, 0.007913183957359151, 0.003423988269783975, 0.010501728327222095, 0.001793137935755085, 0.00472413663101504, 0.01017415978481801, 0.01210207297207838, 0.021297665898448146, 0.0018081047496455432, 0.008354458956913169, 0.005932844043832027, 1.0, 0.4117818209570918],[0.011003570149855651, 0.12875009965604325, 0.12244956918627894, 0.12244956918627894, 0.12244956918627894, 0.0005018497463219998, 0.006484951282945851, 0.008970614607183146, 0.0061106514306521025, 0.009626499568114476, 0.003775929231098243, 0.01099993710605112, 0.009025355149920979, 0.009123925565056307, 0.0009984704269171167, 0.0018615313363423763, 0.003648693053794022, 0.005508800561023847, 0.00725207381773078, 0.008335720809484732, 0.00881028550681585, 0.007285535188880972, 0.015328794258181323, 0.14296395495445463, 0.18527791544742275, 0.22856548906406526, 0.25559219365038766, 0.31590684559261184, 0.4117818209570918, 1.0]]

        console.log(head_data)
        console.log(this.state.coordinates)
        

        return (
            // <HeatMap  data={this.state.coordinates} />
            //<div>hi</div>
            
           <HeatMap xLabels={xLabels} yLabels={yLabels} data={head_data} />
        )
      }
}


export default HeatmapView;